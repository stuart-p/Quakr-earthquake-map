(this["webpackJsonpquakr-app"]=this["webpackJsonpquakr-app"]||[]).push([[0],{30:function(e,t){e.exports="data:image/png;base64,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"},31:function(e,t,a){e.exports=a(57)},36:function(e,t,a){},37:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAA8CAYAAAAHbrgUAAAACXBIWXMAAAEoAAABKAH7cl7WAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABR1JREFUWIXFmW1sU1UYgJ9z+7XueyCoQWUTyCSMgS6owcQgDpywjaF2xmzEDxIWYkyMxgA/jGhiTAQiGFQQDcogJCvha8OBGMAPJEgkC6QEhsAkoGN8bGvrtrbrff2xrXRrx7rSdu+f3vece8/z9PSec8+5VQwjarIKM3x+a6nAsyBTgfFAJuAD2lCqETghqAOWdsuhcuz+odpUkYC3pC4ca9B874tiMYI1IlvFVYV87G5v/qaKP31RCaxkpTYh48RyJWoFkBoRODTOK+StCue+A8MSqBljS/V5O6tFKIsSHBwi8FGls+5DBTKkwPdpC0cbNN8RhLwYwIM02FTpqlsSXGQYeM5GCkxJluQ9wBPRcpRBI6dkJuOLHsd6TybOS82IroOi4MWkSV07PeePBs4dePHW9OL1wJvRwgGmvW1j8qtFgdzZ1MzxD77l5qmLADqo4kpnbT2AFnxhdWbxNGDp3cABcopn9svTs+9j1pfvMDr/4V6mfFGDzRwioOmyamBZNKEMoU2YUqw89elSjElmgBxvekdVP4HqjJLHBDXnbuEANxr+CluefO8ociv6ENqKw8wyBgS02Aw3AC7VHh20btzsR3uP5P6rGWmzAwKiZGGsBK4cOsm142fC1mXlPhScztUANmeWZcZ6zP++bANt5y6HlHfedAanMzQAg3gnxhIO4Gn/j0NVq7mw82fErwMguuDYuPf2ScIkBbAtY36hiDoYa4m+SB47iszcB3H93Yzr8rXgqi4jgI5BKfR48elouUVHy61wVZoGINLtDFebgGjTAJJ0uThCAhc1gHJ3/XVBXUg8X07enoiQPQnHi3YwIKCL7E4wv7Xb5dofEKh07fsNOJY4vlr7Oke6AgIKROn68gTRWzxm9RkMePRWuH/4BZQ93nSB9xbf2OsKEQAwW5LeEOFUHPmfL3LWbelLQgTKr9vdRoNxAah/4wCvH+d0vxtcEHb180rb7ia/T2YAJ2JFFlFfm53Wsmc40h1cfseNSQ02qzetcx2KxYPJRhCtKJZVttdtClcZ0dZsa8q8qdetxl1jvPqEYYC7RMl6i3R/Uu48EPZJBGCMpKU981LOnD0r1iyv8EiHnxyPzgMe3a1kwHZNuALqDzTZr5Adle37WodqO6IeyMuzzQH5McARfnU4djxdk1WY0aVbR4lXvF1ZqrXqn9qOSNoLjoh6AKS8f65WA5S3/tQOtAPQOVx0Twx5YxUULDEBgQWriDQ6HFPqosNFIeD13ioERgcu0LQ1sDJmy6dIhtbLQcctqalUxwo+pMCUKTazCKV9uVKsP3bMHuWvHYUAUARk9R53eDymr2IJH1JAqdt3v1JsbmzcfiNhAtnZryUBJb2pX9fV2ljD7yiQmuqeB6QDKMUuh8MefssbLwGC7n6l9DXxgMMgU3FBQUmyx2NpAVL6pt14CYTtAa/XMh9IAdA04vbtBxUQUX3df+706bzahArk5y9KAel9xaVWxXLajUjA7+8opaf7r7ndKdviCQ8roJRW3vOp1jY1fdeVUIHc3NI0kOcAl8Hg2xBveIiAyWRaAFhFZFNDw+62hAsopWyAD7R1iYD3E5g4sSJdhLnAdofDHvp6K94CFounDEgS6dk0JlxAKWwi1Dsc9oZEChgBpk8vy+zuZg7ozycSDr094PebyoDTDsfOwyMiICIv9a31Ey6Qm1uaphTZkyezY0QEjEbzfFCr7fah/2SMiwDINLM5K+4PnUEjP/+FJ0cMDvwPzJu8sF0L7oEAAAAASUVORK5CYII="},57:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(13),o=a.n(r),l=a(9),s=a(8),c=a(11),u=a(10),m=a(12);a(36);var d=function(e){return i.a.createElement("header",{className:"header"},i.a.createElement("a",{className:"header__a",href:"/index.html"},"Back to homepage"),i.a.createElement("h1",{className:"header__h1"},"Quakr"),i.a.createElement("h2",{className:"header__h2"},"live earthquake data visualisation"))},h=a(60),A=a(61),g=a(59),p=a(62),f=a(4),E=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=new f.Icon({iconUrl:a(37),iconSize:[20,30]});return i.a.createElement(h.a,{center:[35,-40],zoom:"3",minZoom:"2.5",maxBounds:[[90,180],[-90,-180]],maxBoundsViscosity:"0.4",noWrap:!0},i.a.createElement(A.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.props.earthquakeData.map((function(t){return i.a.createElement(g.a,{key:t.id,position:t.position,icon:e},i.a.createElement(p.a,null,new Date(t.time).toUTCString(),i.a.createElement("br",null),"".concat(t.magnitude," magnitude earthquake, situated ").concat(t.place,". Find out more "),i.a.createElement("a",{href:t.url},"here"),"."))})))}}]),t}(n.Component),v=a(30),F=a.n(v),b=a(18),S=a.n(b),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={magnitudeFilter:-1,timeFilter:null,selectedTime:672,filterMenuHidden:!1},a.handleSubmit=function(e){e.preventDefault()},a.handleMagnitudeChange=function(e){a.setState({magnitudeFilter:e.target.value})},a.handleTimeChange=function(e){var t=new Date;t.setHours(t.getHours()-e.target.value);var n=t.toISOString();a.setState({timeFilter:n,selectedTime:e.target.value})},a.toggleFilterVisible=function(){a.setState((function(e){return{filterMenuHidden:!e.filterMenuHidden}}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.timeFilter!==t.timeFilter?this.props.fetchFilteredData(this.state.magnitudeFilter,this.state.timeFilter):this.state.magnitudeFilter!==t.magnitudeFilter&&this.props.fetchFilteredData(this.state.magnitudeFilter,this.state.timeFilter)}},{key:"render",value:function(){var e=S()({filter:!0,"filter--hidden":this.state.filterMenuHidden}),t=S()({filter__hide:!0,"filter__hide--menuHidden":this.state.filterMenuHidden});return i.a.createElement("aside",{className:"filter__container"},i.a.createElement("button",{className:t,onClick:this.toggleFilterVisible},i.a.createElement("img",{src:F.a,alt:"minimise"})),i.a.createElement("div",{className:e},i.a.createElement("h2",null,"Filters"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("h3",null,"filter by magnitude"),i.a.createElement("label",null,i.a.createElement("select",{name:"magSelector",id:"magSelector",value:this.state.magnitudeFilter,onChange:this.handleMagnitudeChange},i.a.createElement("option",{value:-1},"all"),i.a.createElement("option",{value:2},"greater than 2"),i.a.createElement("option",{value:4},"greater than 4"),i.a.createElement("option",{value:6},"greater than 6")))),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("h3",null,"filter by time"),i.a.createElement("label",null,i.a.createElement("select",{name:"timeSelector",id:"timeSelector",value:this.state.selectedTime,onChange:this.handleTimeChange},i.a.createElement("option",{value:672},"all"),i.a.createElement("option",{value:1},"within last hour"),i.a.createElement("option",{value:24},"within last 24 hours"),i.a.createElement("option",{value:168},"within last week"))))))}}]),t}(n.Component),D=a(19),O=a.n(D),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={earthquakeData:[],isLoaded:!1},a.fetchData=function(){O.a.get("https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&limit=500").then((function(e){var t=e.data.features.map((function(e){return{magnitude:e.properties.mag,place:e.properties.place,url:e.properties.url,time:e.properties.time,code:e.properties.code,position:[e.geometry.coordinates[1],e.geometry.coordinates[0]],id:e.id}}));a.setState({earthquakeData:t,isLoaded:!0})}))},a.componentDidMount=function(){a.fetchData()},a.fetchFilteredData=function(e,t){a.setState({isLoaded:!1},(function(){O.a.get("https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&limit=500",{params:{starttime:t,minmagnitude:e}}).then((function(e){var t=e.data.features.map((function(e){return{magnitude:e.properties.mag,place:e.properties.place,url:e.properties.url,time:e.properties.time,code:e.properties.code,position:[e.geometry.coordinates[1],e.geometry.coordinates[0]],id:e.id}}));a.setState({earthquakeData:t,isLoaded:!0})}))}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("main",null,i.a.createElement(d,null),i.a.createElement(E,{earthquakeData:this.state.earthquakeData}),i.a.createElement(w,{fetchFilteredData:this.fetchFilteredData}),this.state.isLoaded?null:i.a.createElement("div",{className:"loadingScreen"},i.a.createElement("h3",null,"Loading...")))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.b87b79af.chunk.js.map